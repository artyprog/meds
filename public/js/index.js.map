{"version":3,"sources":["webpack:///webpack/bootstrap 04344d3a970381d696f1","webpack:///./src/utils/index.js","webpack:///./src/index.js","webpack:///./src/app.html","webpack:///./src/components/add-med-form.html","webpack:///./src/components/header.html","webpack:///./src/components/link.html","webpack:///./src/components/list-header.html","webpack:///./src/components/meds.html","webpack:///./src/pages/meds.html","webpack:///./src/state/storage.html","webpack:///./src/utils/deepMerge.js","webpack:///./src/utils/dynamicSort.js","webpack:///./~/magic-types/index.js"],"names":[],"mappings":"YACA,cAMA,MACA,eAGA,mBACA,GACA,EACA,KAIA,mDAGA,KAGA,OACA,OAIA,IAzBA,iBA4BA,MAGA,iBAA2C,OAAc,EAGzD,qBACA,2BACA,CACA,gBACA,kBAEA,GAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,OAAe,EAChD,mBACA,GACA,CAGA,mBAAsD,+CAA+D,EAGrH,MAGA,kIC9DA,yCCEM,GAAM,GAAI,KACd,QAAQ,SAAS,cAAc,6aCYL,aAAb,QAMsB,mBAAnB,oOAjBa,YAAO,8KAMb,SAAO,6oCAOG,YAAO,kqCAuBxC,OACM,WAEK,OAAQ,OAAS,SAAS,UAC3B,SAAE,CACJ,CAAM,KAAU,SAAM,KAAU,QAChC,CAAM,KAAgB,eAAM,KAEnB,UACN,qBACC,MACE,CACE,eAKP,mBACG,UAAC,CAAQ,QACf,MAAM,CAAM,OAAY,YAAS,OACjC,SAAW,EAAO,EAAU,WAAe,MAAU,IAE9C,YAAU,UAAK,KAAM,KACxB,QAAI,IAAC,CACV,SAEU,cAAI,EACb,MAAW,GAAQ,SAAK,KAAI,IAAS,SACjC,QAAI,IAAC,CAEZ,SAES,cACF,QACA,WACG,cACD,aAId,YARgB,spDCxE4B,sCAC9B,2gBACwB,OAAO,0BAK3B,OAAK,8/FAmCrB,OACM,WAEM,CACE,UAGL,sBACO,eACN,MAAI,IAAC,CAAU,SAAE,CAAK,KAAI,IAC/B,aAEK,SAAM,EACL,GAEL,sBAAM,CAAM,OAAQ,SAAO,QAAS,SAAO,KAE3C,KAAY,EAAO,KAAI,IACjB,eAAK,KAAG,CAAK,EACf,WAAI,IAAC,CAET,YAAU,EAKV,WAAS,GACH,MAAM,EACJ,aAAQ,EACT,YAAO,EACP,YAAO,EACH,gBAAM,KAAM,MAAM,EAAM,MAAQ,EAGvC,QAOZ,YAPgB,IAAC,CACL,mBAAK,KAAS,SAAE,CAEpB,WA9BK,u3KC5BM,uzBAXD,iyBAY2B,6XAThB,KAAW,WAAQ,ssCAgB9C,OACY,YAId,MAJgB,uvCC5BI,SAAO,oHACZ,eAEN,iFAFM,cAEN,gxBAIP,OACS,SACG,UAAM,EACP,CAOb,SALY,sBAAK,KAAW,WAAE,CAAM,KAAO,EAAO,OAC1C,SALK,s4CCViB,KAAO,SAAQ,8BAE/B,OAAQ,QAAI,IAAK,QAAU,kJADhC,2xICDS,OAAZ,IAAoB,QAAO,+oBAkBZ,KAAO,4KAMP,KAAO,8KAOP,KAAO,0KAMP,KAAO,kLAMP,KAAO,2NASX,09BACJ,wWAE6B,KAAO,8BAExB,UAAQ,EAAK,8FA+DR,KAAY,YAAK,EAAM,gqCAxC1B,EAAQ,gNAQR,EAAU,gNAQV,EAAS,wNAQT,EAAS,kGAId,EAAU,oZA5BL,GAAQ,aAQR,GAAU,eAQV,GAAS,cAQT,GAAS,aAId,GAAU,wWAxCA,KAAI,GAAM,mEAVlB,EAAK,kGACL,EAAO,iHACP,EAAM,mGACN,EAAM,wGACF,mBAA8B,WACpC,EAAU,weALR,GAAK,YACL,GAAO,cACP,GAAM,aACN,GAAM,mBACF,oBAA8B,UACpC,GAAU,2uDA0E9B,OACM,WAEO,SACE,eAGL,aACC,SAAE,CAAK,EAAQ,IACpB,MAAa,GAAS,OAAK,KAC3B,GAAa,EAAQ,MAAK,KAAQ,EAAG,GAAQ,EAAI,IAC1C,KAAY,SAEnB,UAEH,EAEM,WACD,MAAS,EACX,MAAY,GAAO,KAAI,IACvB,UAAU,IACR,IACU,GADA,KAAG,KACQ,EAAO,OAElB,KAAM,IAId,QAAK,KAAc,cAAE,CAAM,KAAE,CAAQ,OAC1C,IAEiB,EAAM,oBACtB,MAAM,CAAO,QAAS,SAAO,KAEzB,UAAI,IAAC,CAAW,UAAM,KAAM,MAAM,EAAM,MAAQ,EACrD,QAEG,OAAM,EACH,GAEL,sBAAM,CAAM,OAAQ,SAAO,QAAS,SAAO,KAE3C,KAAS,EACH,MAAM,EACJ,aAAQ,EACT,YAAO,EACP,YAAO,EACH,gBAAM,KAAM,MAAM,EAAM,MAAQ,EAGvC,aAAK,KAAS,SAAE,CAChB,aAAI,IAAC,CAAS,QACnB,MAEG,OAAK,EACH,MAAI,IAAC,CAAS,QAErB,GACS,cAId,YAJgB,m6HC9Le,OAAO,mKAMjB,OAAO,oCACD,UAAO,sCACV,KAAc,cAAQ,wkCAS5C,OACM,WACM,CAGH,sBACC,QAAC,CAAO,OACZ,IAAO,EACL,MAAU,GAAO,KAAI,IACjB,UAAI,EAAM,MAAQ,SAAK,EAAI,EAAM,MAEjC,QAAK,KAAc,cAAE,CAAM,KAAE,CAAM,KACxC,IACF,CAEQ,YAAK,EACZ,MAAU,GAAO,KAAI,IACrB,cAAW,GAEP,QAAK,KAAc,cAAE,CAAM,KAAE,CAAM,KAE1C,IAES,cACJ,MAIV,eALgB,03DC5CG,8ZACiC,0CACnC,uvBAGD,KAAI,MAAU,YAAM,MAAM,KAAM,6FAAhC,KAAI,MAAU,YAAM,MAAM,KAAM,w3BAS9C,MAAU,GACH,GACH,IACE,MAAM,CAAS,SAAS,OACxB,gBAAI,CACF,QAGF,QAAiB,GAAO,KAAM,MAC9B,GAAiB,EAAQ,SAAK,EAExB,iBAAa,aAAM,MACzB,EACD,EACD,MAAO,EACE,gBAAK,KAA8B,8BAC1C,GACD,CACF,CAEH,QACU,WACN,MAAW,GAAO,KAAI,IAClB,cAAK,KAAc,cAAM,EACzB,SAAQ,QAAQ,QAAiB,CAAf,EACd,QAAa,aAAM,MAAO,KAAU,UAC1C,EACH,EACM,UACW,mBACV,MAAI,IAAC,CAAS,QAAE,CAAK,KAAI,IAIrC,YANa,ygCC3Cb,GAEA,KAAM,GACH,GACC,GACA,gBAAS,IACT,CAAC,gBAAS,IACV,CAAC,cAEL,GAAM,EACJ,CAAC,EAAQ,IACP,MAAM,GAAc,EACpB,iBAAO,QAAQ,CAAC,EAAG,IACb,CAAC,iBAAU,EACb,IAEO,EACP,KAAY,GAAK,EAAU,EAAO,GAE/B,GAA0B,CAC7B,CADO,KAAO,QAAQ,MACV,KAEf,KARe,GAET,CAQP,GACD,CAEH,EAAM,EACJ,CAAC,EAAQ,IACP,MACA,YAAI,GACF,WAAO,KAAK,GAAQ,QACjB,GACC,GAAY,GAAO,EACpB,EAIL,UAAO,KAAK,GAAQ,QACjB,GACC,GAIc,GAJT,EAAkB,EAAgB,GAAnC,EAAoC,EAC1B,GAGO,EAAU,EAAO,GAAM,EAE7C,IALsB,EAGnB,EAKN,GACD,CAEH,EAAM,EACJ,CAAC,EAAQ,IACP,eAAQ,GACJ,eAAQ,GACN,EAAW,EAAQ,GACnB,EACF,EAAY,EAoBb,GAAM,EAAQ,MAKnB,8BCnFK,KAAM,GACX,GACE,IAAI,GAEJ,QACE,GADC,KAAS,OACE,CACZ,IAAW,EAAS,OAGtB,IAAO,CAAC,EAAG,IACP,MAAM,GAAU,EAAE,GAAY,EAAE,GAC5B,CAAC,EACA,EAAE,GAAY,EAAE,GACf,EAGN,QAAO,GACV,CACF,CAlBI,MAoBQ,8BCpBf,aAEA,qCACA,CACC,WAED,6EAAoG,cAAmB,EAAE,aAAmB,kGAA8H,EAE1Q,0BACA,iDAAwF,IAAa,EACrG,qBAGA,kBACA,gFAGA,8BACA,YACA,EACA,EAEA,kBACA,iDAAyF,IAAe,EACxG,qBAGA,cACA,EAEA,mBACA,iDAAyF,IAAe,EACxG,qBAGA,cACA,EAEA,uBACA,oDACA,QAEA,yBACA,OACA,mBAEA,yBACA,OACA,uBAEA,8BACA,OACA,oBAEA,0BACA,aACA,CAEA,yBACA,qBACA,IAEA,uBACA,aACA,GAEA,4BACA,OACA,mDAEA,0BACA,OACA,kBAEA,8BACA,0CACA,EAEA,6BACA,kCACA,EAEA,4BACA,OAA+D,iEAE/D,EAEA,iCACA,OAAuC,yCAEvC,EAEA,uBACA,4BACA,EAEA,sBACA,wBACA,IAEA,wBACA,wBACA,QAEA,4BACA,SACA,CAEA,uBACA,aACA,IAEA,2BACA,iBACA,6BAEA,uBACA,OACA,uCAEA,0BACA,OACA,mDAEA,uBACA,2BACA,gBAEA","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 04344d3a970381d696f1","export * from './dynamicSort'\nexport * from './deepMerge'\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","import App from './app'\n\nconst app = new App({\n  target: document.querySelector('#root'),\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","<div class='app'>\n  <Storage\n    state='{{ state }}'\n    development='{{ development }}'\n    on:updateState='updateState(event)'\n  />\n\n  <Header\n    development='{{ development }}'\n    menu='{{ menu }}'\n    on:navigate='navigate(event)'\n    route='{{ route }}'\n  />\n\n  <article class='page'>\n    {{#if route === '/meds/'}}\n      <MedsPage\n        on:updateState='updateState(event)'\n        meds='{{ state.meds.list || {} }}'\n        sortBy='{{ state.meds.sortBy || \"name\" }}'\n      />\n    {{elseif route === '/meds/about/'}}\n      <AboutPage />\n    {{/if}}\n  </article>\n\n  <Footer />\n</div>\n\n<script>\n  import Header from './components/header'\n  import Footer from './components/footer'\n\n  import AboutPage from './pages/about'\n  import MedsPage from './pages/meds'\n\n  import Storage from './state/storage'\n\n  import { merge } from './utils'\n\n  export default {\n    data:\n      () => ({\n        route: window.location.pathname || '/',\n        menu: [\n          { href: '/meds/', text: 'meds' },\n          { href: '/meds/about/', text: 'about' },\n        ],\n        development: process.env.NODE_ENV === 'development',\n        state: {\n          meds: {\n            list: {},\n            sortBy: 'name',\n          },\n        },\n      }),\n\n    methods: {\n      navigate({ href }) {\n        const { host, protocol } = window.location\n        const route = href.replace(`${ protocol }//${ host }`, '')\n\n        history.pushState(null, null, href )\n        this.set({ route })\n      },\n\n      updateState(obj) {\n        const state = merge(this.get('state'), obj)\n        this.set({ state })\n      },\n    },\n\n    components: {\n      Header,\n      Footer,\n      AboutPage,\n      MedsPage,\n      Storage,\n    },\n  }\n</script>\n\n<style>\n  .app {\n    display: flex;\n    flex-direction: column;\n    max-width: 1500px;\n    margin: 0 auto;\n    min-height: 100vh;\n    width: 90vw;\n  }\n  .page {\n    margin: 5rem 0 0 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.html","<button class='btn' on:click='addMedToggle()'>Add Med</button>\n{{#if addMedOn }}\n  <form class='form' on:submit='submit(event)'>\n    <fieldset>\n      <legend><h3>Add a new Med</h3></legend>\n\n      <label>Med Name:</label>\n      {{#if errors.name}}\n        <div class='error'>Name is required</div>\n      {{/if}}\n      <input ref:name type='text' placeholder='Name' />\n      <label>Med Dosage:</label>\n      <input\n        pattern='[0-9]'\n        placeholder='Dosage'\n        ref:dosage\n        type='number'\n      />\n      <span>mg</span>\n\n      <label>Pills taken each day:</label>\n      <input\n        pattern='[0-9]'\n        placeholder='Pills per day'\n        ref:daily\n        type='number'\n      />\n\n      <label>Pills in storage:</label>\n      <input\n        pattern='[0-9]'\n        placeholder='Pills in Store'\n        ref:store\n        type='number'\n      />\n\n      <input type='submit' value='Submit' />\n    </fieldset>\n  </form>\n{{/if}}\n\n<script>\n  export default {\n    data:\n      () => ({\n        errors: {},\n        addMedOn: false,\n      }),\n\n    methods: {\n      addMedToggle() {\n        this.set({ addMedOn: !this.get('addMedOn') })\n      },\n\n      submit(event) {\n        event.preventDefault()\n\n        const { name, dosage, daily, store } = this.refs\n\n        const errors = this.get('errors')\n        errors.name = !name.value\n        this.set({ errors })\n\n        if (errors.name) {\n          return\n        }\n\n        // get med input value\n        const med = {\n          name: name.value,\n          dosage: dosage.value,\n          daily: daily.value,\n          store: store.value,\n          remaining: Math.floor(store.value / daily.value),\n        }\n\n        this.set({ addMedOn: false })\n        this.fire('addMed', { med })\n\n        return false\n      },\n    },\n  }\n</script>\n\n<style>\n  .btn {\n    position: absolute;\n    right: 5vh;\n    top: 6rem;\n    width: auto;\n  }\n\n  .form {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .form fieldset {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/add-med-form.html","<header class='header'>\n  <div class='logo{{ route === '/' ? \" active\" : \"\" }}'>\n    <svg viewBox=\"0 0 512 512\">\n      <path\n        d=\"M448 128h-96V64c0-17.6-14.4-32-32-32H192c-17.6 0-32 14.4-32 32v64H64c-35.2 0-64 28.8-64 64v256c0 35.2 28.8 64 64 64h384c35.2 0 64-28.8 64-64V192c0-35.2-28.8-64-64-64zM192 64h128v64H192V64zm192 288h-96v96h-64v-96h-96v-64h96v-96h64v96h96v64z\"\n      />\n    </svg>\n  </div>\n  <nav>\n    <ul class='list'>\n      {{#each menu as item}}\n        <li class='list__item{{ route === item.href ? \" active\" : \"\" }}'>\n          <Link\n            on:navigate='fire(\"navigate\", event)'\n            href='{{ item.href }}'\n            text='{{ item.text }}'\n          />\n        </li>\n      {{/each}}\n    </ul>\n  </nav>\n  {{#if development}}\n    <span class='route__info'>Route: {{ route }}</span>\n  {{/if}}\n</header>\n\n<script>\n  import Link from './link'\n\n  export default {\n    components: {\n      Link,\n    }\n  }\n</script>\n\n<style>\n  .header {\n    width: 90vw;\n    display: flex;\n    position: fixed;\n    background-color: #ffffff;\n    border-bottom-width: 1px;\n    border-right-width: 1px;\n    border-left-width: 1px;\n    border-bottom-left-radius: .5rem;\n    border-bottom-right-radius: .5rem;\n    border-style: solid;\n    border-color: rgb(255, 152, 0);\n    padding: 0 .5rem .5rem;\n  }\n\n  .list {\n    display: flex;\n    justify-content: space-between;\n  }\n  .list__item {\n    padding: .4rem .5rem 0 0;\n    border-width: 0px;\n    border-top-width: 2px;\n    border-style: solid;\n    border-color: rgb(255, 152, 0);\n    transition: border-color 500ms;\n  }\n\n  .list__item a {\n    padding: .5rem 0 0 0;\n    text-decoration: none;\n  }\n\n  .list__item.active {\n    border-top: 2px solid rgb(230, 81, 0);\n  }\n\n  .list__item.active a {\n    color: rgb(230, 81, 0);\n  }\n\n  .logo {\n    margin: .5rem .5rem 0 0;\n  }\n\n  .logo svg {\n    height: 2rem;\n    width: 2rem;\n    fill: rgb(255, 152, 0);\n  }\n  .logo.active svg {\n    fill: rgb(230, 81, 0);\n  }\n\n  .route__info {\n    display: flex;\n    align-items: center;\n    flex-grow: 1;\n    justify-content: flex-end;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/header.html","<a\n  class='link'\n  on:click='navigate(event)'\n  href='{{ href }}'\n>\n  {{ text }}\n</a>\n\n<script>\n  export default {\n    methods: {\n      navigate(event) {\n        event.preventDefault()\n        // fire navigate in menu component\n        this.fire('navigate', { href: event.target.href })\n        return false\n      },\n    },\n  }\n</script>\n\n<style>\n  .link {\n    white-space: nowrap;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/link.html","<li class='box' on:click='fire(\"sort\", value)'>\n  {{ text }}\n  {{#if sortBy.replace('-', '') === value}}\n    <div class='icon{{ sortBy[0] === \"-\" ? \"\" : \" reverse\" }}'>\n      <svg viewBox=\"0 0 512 512\">\n        <path\n          d=\"M0 256c0 141.385 114.615 256 256 256s256-114.615 256-256S397.385 0 256 0 0 114.615 0 256zm464 0c0 114.875-93.125 208-208 208S48 370.875 48 256 141.125 48 256 48s208 93.125 208 208z\"\n        />\n        <path\n          d=\"M353.372 334.628l45.256-45.256L256 146.745 113.373 289.373l45.254 45.254L256 237.255z\"\n        />\n      </svg>\n    </div>\n  {{/if}}\n</li>\n\n<script>\n</script>\n\n<style>\n  .box {\n    display: flex;\n  }\n  .icon {\n    height: 1em;\n    width: 1em;\n  }\n  .reverse {\n    transform: rotate(180deg)\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/list-header.html","{{#if !medList || !medList.length}}\n  <div>\n    <p>No Meds added yet.</p>\n\n    <p>\n      Medications you enter will be saved in the localstorage of your device.\n    </p>\n    <p>\n      NO data gets stored on any servers.\n      Which also means that your data is lost if you lose the device.\n      See the about page for more info.\n    </p>\n  </div>\n{{else}}\n<ul class='list'>\n  <lh>\n    <ul>\n      <ListHeader\n        on:sort='sort(event)'\n        sortBy={{ sortBy }}\n        text='Name:'\n        value='name'\n      />\n      <ListHeader\n        on:sort='sort(event)'\n        sortBy={{ sortBy }}\n        text='Dosage:'\n        value='dosage'\n      />\n\n      <ListHeader\n        on:sort='sort(event)'\n        sortBy={{ sortBy }}\n        text='Per Day:'\n        value='daily'\n      />\n      <ListHeader\n        on:sort='sort(event)'\n        sortBy={{ sortBy }}\n        text='Store:'\n        value='store'\n      />\n      <ListHeader\n        on:sort='sort(event)'\n        sortBy={{ sortBy }}\n        text='Remaining:'\n        value='remaining'\n      />\n      <li></li>\n      <li></li>\n    </ul>\n  </lh>\n  {{#each medList as med}}\n    {{#if med}}\n      <li class='list__item'>\n        <form class='form' on:submit='save(event)'>\n          <ul>\n            {{#if editing !== med.name }}\n              <li>{{ med.name }}</li>\n              <li>{{ med.dosage}}mg</li>\n              <li>{{ med.daily }}</li>\n              <li>{{ med.store }}</li>\n              <li class='{{ med.remaining < 8 ? \"red\" : \"\" }}'>\n                {{ med.remaining }}\n              </li>\n              <li>\n                <button\n                  class='btn'\n                  on:click='edit(med.name)'\n                  type='button'\n                >\n                  Edit\n                </button>\n              </li>\n            {{else}}\n              <li>\n                <input\n                  placeholder='Name'\n                  ref:name\n                  type='text'\n                  value={{ med.name }}\n                />\n              </li>\n              <li>\n                <input\n                  placeholder='Dosage'\n                  ref:dosage\n                  type='number'\n                  value={{ med.dosage }}\n                />\n              </li>\n              <li>\n                <input\n                  placeholder='Daily'\n                  ref:daily\n                  type='number'\n                  value={{ med.daily }}\n                />\n              </li>\n              <li>\n                <input\n                  placeholder='Pills in Store'\n                  ref:store\n                  type='number'\n                  value={{ med.store }}\n                />\n              </li>\n              <li>\n                {{ med.remaining }}\n              </li>\n\n              <li>\n                <input class='btn' type='submit' value='Save' />\n              </li>\n            {{/if}}\n\n            <li>\n              <button\n                class='btn'\n                type='button'\n                on:click='fire(\"removeMed\", med.name)'\n              >\n                X\n              </button>\n            </li>\n          </ul>\n        </form>\n      </li>\n    {{/if}}\n  {{/each}}\n</ul>\n{{/if}}\n\n<script>\n  import ListHeader from './list-header'\n  import { merge, dynamicSort } from '../utils'\n\n  export default {\n    data:\n      () => ({\n        editing: null,\n        remaining: 0,\n      }),\n\n    computed: {\n      medList: (meds, sortBy) => {\n        const medKeys = Object.keys(meds)\n        const medList = Array.from(medKeys, m => meds[m])\n          .sort(dynamicSort(sortBy))\n\n        return medList\n      },\n    },\n\n    methods: {\n      sort(property) {\n        const sortBy = this.get('sortBy')\n        if (sortBy === property) {\n          if (sortBy[0] === '-') {\n            property = property.substr(1)\n          } else {\n            property = '-' + property\n          }\n        }\n\n        this.fire('updateState', { meds: { sortBy: property } })\n      },\n\n      calculateRemaining(field) {\n        const { store, daily } = this.refs\n\n        this.set({ remaining: Math.floor(store.value / daily.value) })\n      },\n\n      save(event) {\n        event.preventDefault()\n\n        const { name, dosage, daily, store } = this.refs\n\n        const med = {\n          name: name.value,\n          dosage: dosage.value,\n          daily: daily.value,\n          store: store.value,\n          remaining: Math.floor(store.value / daily.value),\n        }\n\n        this.fire('addMed', { med })\n        this.set({ editing: null })\n      },\n\n      edit(name) {\n        this.set({ editing: name })\n      },\n    },\n    components: {\n      ListHeader,\n    }\n  }\n</script>\n\n<style>\n  .list {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .list__item {\n    display: flex;\n  }\n\n  .form {\n    width: 100%;\n  }\n\n  .form input {\n    padding: .5rem;\n  }\n\n  .list ul {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    border-bottom: 1px solid\n  }\n  .list button {\n    padding: .5rem;\n  }\n\n  .red {\n    color: #ff0000;\n  }\n\n  .delete {\n    background-color: rgb(255, 0, 0);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/meds.html","<section>\n  <header>\n    <h1>Meds:</h1>\n  </header>\n\n  <AddMedForm on:addMed='addMed(event)' />\n\n  <Meds\n    meds='{{ meds }}'\n    med='{{ med }}'\n    sortBy='{{ sortBy }}'\n    on:addMed='addMed(event)'\n    on:removeMed='removeMed(event)'\n    on:updateState='fire(\"updateState\", event)'\n  />\n</section>\n\n<script>\n  import Meds from '../components/meds'\n  import AddMedForm from '../components/add-med-form'\n  import { merge } from '../utils'\n\n  export default {\n    data: () => ({\n      addMedOn: false,\n    }),\n\n    methods: {\n      addMed({ med }) {\n        if (med) {\n          const meds = this.get('meds')\n          meds[med.name] = merge(meds[med.name], med)\n\n          this.fire('updateState', { meds: { list: meds } })\n        }\n      },\n\n      removeMed(name) {\n        const meds = this.get('meds')\n        delete meds[name]\n\n        this.fire('updateState', { meds: { list: meds } })\n      },\n    },\n\n    components: {\n      Meds,\n      AddMedForm,\n    },\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/meds.html","<div class='state'>\n  {{#if development }}\n    <button class='dev' on:click='visibilityToggle()'>dev</button>\n    {{#if visible}}\n      <div class='panel'>\n        <div>State</div>\n        <div>{{ JSON.stringify(state, null, ' ') }}</div>\n      </div>\n    {{/if}}\n  {{/if}}\n</div>\n\n<script>\n  import { merge } from '../utils'\n\n  const init =\n    (data) => {\n      try {\n        const { state } = window.localStorage\n        if (!state) {\n          return data\n        }\n\n        const storedState = JSON.parse(state)\n        const mergedState = merge(data, storedState)\n\n        window.localStorage.state = mergedState\n        return mergedState\n      }\n      catch(e) {\n        console.warn('error when importing state:', e)\n        return data\n      }\n    }\n\n  export default {\n    onrender() {\n      const state = this.get('state')\n      this.fire('updateState', init(state))\n      this.observe('state', (newVal, oldVal) => {\n        window.localStorage.state = JSON.stringify(newVal)\n      })\n    },\n    methods: {\n      visibilityToggle() {\n        this.set({ visible: !this.get('visible') })\n      }\n    }\n  }\n</script>\n\n<style>\n  .state {\n    position: fixed;\n    right: 0;\n    bottom: 0;\n  }\n\n  .dev {\n    border-bottom-color: #ff9d1c;\n    border-left-color: #fff;\n    border-right-color: #ff9d1c;\n    border-style: solid;\n    border-top-color: #fff;\n    border-width: 40px;\n    bottom: 0;\n    height: 0;\n    padding: 0;\n    position: fixed;\n    right: 0;\n    width: 0;\n    z-index: 2;\n  }\n\n  .panel {\n    bottom: 0;\n    height: 30vh;\n    right: 0;\n    overflow-y: scroll;\n    position: fixed;\n    white-space: pre-wrap;\n    width: 50vw;\n    border: 1px solid;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/storage.html","import { isArray, isObject, isRegExp, isDate, isDefined } from 'magic-types'\n\nconst isMergeableObject =\n  (val) =>\n    val &&\n    isObject(val) &&\n    !isRegExp(val) &&\n    !isDate(val)\n\nconst mergeArray =\n  (target, source) => {\n    const destination = target.slice()\n    source.forEach((e, i) => {\n      if (!isDefined(destination[i])) {\n        destination[i] = e\n      }\n      else if (isMergeableObject(e)) {\n        destination[i] = deepMerge(target[i], e)\n      }\n      else if (target.indexOf(e) === -1) {\n        destination.push(e)\n      }\n    })\n\n    return destination\n  }\n\nconst mergeObject =\n  (target, source) => {\n    const destination = {}\n    if (isMergeableObject(target)) {\n      Object.keys(target).forEach(\n        (key) => {\n          destination[key] = target[key]\n        }\n      )\n    }\n\n    Object.keys(source).forEach(\n      (key) => {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n          destination[key] = source[key]\n        }\n        else {\n          destination[key] = deepMerge(target[key], source[key])\n        }\n      }\n    )\n\n    return destination\n  }\n\nconst deepMerge =\n  (target, source) =>\n    isArray(source)\n      ? isArray(target)\n        ? mergeArray(target, source)\n        : source\n      : mergeObject(target, source)\n\nconst deepMergeAll =\n  (array) => {\n    if (!isArray(array)) {\n      throw new Error('First argument should be an array with two items.')\n    }\n\n    // bail early if there is only one item\n    if (array.length === 1) {\n      return array[0]\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(\n      (prev, next) =>\n        deepMerge(prev, next)\n    )\n  }\n\nexport const merge = deepMerge\nexport const mergeAll = deepMergeAll\n\nexport default {\n  merge,\n  mergeAll,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/deepMerge.js","export const dynamicSort =\n  property => {\n    let sortOrder = 1\n\n    if(property[0] === '-') {\n      sortOrder = -1\n      property = property.substr(1)\n    }\n\n    return (a, b) => {\n        const result = (a[property] < b[property])\n          ? -1\n          : (a[property] > b[property])\n            ? 1\n            : 0\n\n        return result * sortOrder\n    }\n  }\n\nexport default dynamicSort\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/dynamicSort.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar test = exports.test = function test(ele, types) {\n  for (var _len = arguments.length, addTypes = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    addTypes[_key - 2] = arguments[_key];\n  }\n\n  if (isString(types) && isEmpty(addTypes)) {\n    return Object.prototype.toString(ele) === types || (typeof ele === 'undefined' ? 'undefined' : _typeof(ele)) === types;\n  }\n\n  return addTypes.concat(types).some(function (t) {\n    return test(ele, t);\n  });\n};\n\nvar is = exports.is = function is(ele) {\n  for (var _len2 = arguments.length, types = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    types[_key2 - 1] = arguments[_key2];\n  }\n\n  return test(ele, types);\n};\n\nvar not = exports.not = function not(ele) {\n  for (var _len3 = arguments.length, types = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    types[_key3 - 1] = arguments[_key3];\n  }\n\n  return !test(ele, types);\n};\n\nvar isArray = exports.isArray = function isArray(ele) {\n  return isFunction(Array.isArray) ? Array.isArray(ele) : isTruthy(ele) && isFunction(ele.forEach);\n};\n\nvar isBoolean = exports.isBoolean = function isBoolean(ele) {\n  return typeof ele === 'boolean';\n};\n\nvar isDefined = exports.isDefined = function isDefined(ele) {\n  return typeof ele !== 'undefined';\n};\n\nvar isFunction = exports.isFunction = function isFunction(ele) {\n  return typeof ele === 'function';\n};\n\nvar isNumber = exports.isNumber = function isNumber(ele) {\n  return ele === +ele;\n};\n\nvar isInteger = exports.isInteger = function isInteger(ele) {\n  return ele === +ele && ele === (ele | 0);\n};\n\nvar isFloat = exports.isFloat = function isFloat(ele) {\n  return ele === +ele;\n};\n\nvar isObject = exports.isObject = function isObject(ele) {\n  return (typeof ele === 'undefined' ? 'undefined' : _typeof(ele)) === 'object';\n};\n\nvar isString = exports.isString = function isString(ele) {\n  return typeof ele === 'string';\n};\n\nvar isRGBAObject = exports.isRGBAObject = function isRGBAObject(e) {\n  return isObject(e) && isNumber(e.r) && isNumber(e.g) && isNumber(e.b) && isNumber(e.a);\n};\n\nvar isRGBObject = exports.isRGBObject = function isRGBObject(e) {\n  return isObject(e) && isNumber(e.r) && isNumber(e.g) && isNumber(e.b);\n};\n\nvar isHexColor = exports.isHexColor = function isHexColor(c) {\n  return (/\\#\\b([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{4}|[a-f0-9]{8})\\b/i.test(c)\n  );\n};\n\nvar isHexAlphaColor = exports.isHexAlphaColor = function isHexAlphaColor(c) {\n  return (/\\#\\b([a-f0-9]{4}|[a-f0-9]{8})\\b/i.test(c)\n  );\n};\n\nvar isColor = exports.isColor = function isColor(e) {\n  return isRGBAObject(e) || isRGBObject(e) || isHexColor(e) || isHexAlphaColor(e);\n};\n\nvar isDate = exports.isDate = function isDate(ele) {\n  return ele.constructor === Date;\n};\n\nvar isRegExp = exports.isRegExp = function isRegExp(ele) {\n  return ele.constructor === RegExp;\n};\n\nvar isTruthy = exports.isTruthy = function isTruthy(ele) {\n  return !!ele;\n};\n\nvar isFalsy = exports.isFalsy = function isFalsy(ele) {\n  return !ele || isEmpty(ele);\n};\n\nvar isEmpty = exports.isEmpty = function isEmpty(ele) {\n  return !ele || isObject(ele) && Object.keys(ele).length === 0 || false;\n};\n\nvar isError = exports.isError = function isError(ele) {\n  return Object.getPrototypeOf(ele).name === 'Error';\n};\n\nvar isIterable = exports.isIterable = function isIterable(ele) {\n  return (typeof ele === 'undefined' ? 'undefined' : _typeof(ele)) === 'object';\n};\n\nvar isEmail = exports.isEmail = function isEmail(ele) {\n  return typeof ele === 'string' && ele.indexOf('@') > 0;\n};\n\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/magic-types/index.js\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}